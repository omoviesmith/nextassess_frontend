import Image from "next/image";
import { Inter } from "next/font/google";
import { useRouter } from "next/router";
import { useState } from "react";
import axios from "axios";

const inter = Inter({ subsets: ["latin"] });

export default function Home() {
  const router = useRouter();
  const [year_level, setYearLevel] = useState("");
  const [course, setCourse] = useState<number>(0);
  const [learning_outcomes, setLearningOutcomes] = useState<string[]>([]);
  const [describe_assessment, setDescribeAssessment] = useState("");

  const cleanup = () => {
    setYearLevel("");
    setCourse(0);
    setLearningOutcomes([]);
    setDescribeAssessment("");
  };

  const handler = async () => {
    let payload = {
      year_level,
      course,
      learning_outcomes,
      describe_assessment,
    };

    try {
      let response = await axios.post(
        "https://nextassess.onrender.com/describe_assessment",
        payload
      );
      console.log(response.data.url);
      window.location = response.data.url;
      router.push("/view-describe-assessment");
      cleanup();
    } catch (error) {
      console.log(error);
    }
  };

  return (
    <main className="py-4">
      <header className="container mx-auto px-4 mb-10">
        <button
          className="py-2 px-6 bg-white  text-[12px] flex gap-2 rounded-md"
          onClick={() => router.push("/ai-generated-assessment-v2")}
        >
          <span>
            <svg
              width="18"
              height="18"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clip-path="url(#clip0_184_850)">
                <path
                  d="M20 11H7.83L13.42 5.41L12 4L4 12L12 20L13.41 18.59L7.83 13H20V11Z"
                  fill="#323232"
                />
              </g>
              <defs>
                <clipPath id="clip0_184_850">
                  <rect width="24" height="24" fill="white" />
                </clipPath>
              </defs>
            </svg>
          </span>
          <span>Back</span>
        </button>
      </header>

      <div className="container mx-auto px-4">
        <h1 className="text-center font-bold text-2xl xl:text-3xl font-pt-serif">
          Describe Assessment
        </h1>
        <p className="text-center text-[10px] xl:text-sm mt-1 font-raleway">
          Describe your assessment in detail
        </p>

        <div className="flex justify-center mt-5">
          <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_177_821)">
              <path
                d="M10 14.1666C12.3012 14.1666 14.1667 12.3011 14.1667 9.99992C14.1667 7.69873 12.3012 5.83325 10 5.83325C7.69885 5.83325 5.83337 7.69873 5.83337 9.99992C5.83337 12.3011 7.69885 14.1666 10 14.1666Z"
                stroke="black"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M10 0.833252V2.49992"
                stroke="black"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M10 17.5V19.1667"
                stroke="black"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M3.51672 3.5166L4.70006 4.69993"
                stroke="black"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M15.3 15.3L16.4834 16.4834"
                stroke="black"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M0.833374 10H2.50004"
                stroke="black"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M17.5 10H19.1667"
                stroke="black"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M3.51672 16.4834L4.70006 15.3"
                stroke="black"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M15.3 4.69993L16.4834 3.5166"
                stroke="black"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </g>
            <defs>
              <clipPath id="clip0_177_821">
                <rect width="20" height="20" fill="white" />
              </clipPath>
            </defs>
          </svg>
        </div>
      </div>

      <div className="w-2/4 mx-auto my-10 flex flex-col gap-5">
        <form>
          <div className="flex flex-wrap lg:flex-nowrap justify-center gap-5">
            <div className="relative w-full">
              <span className="absolute inset-y-0 left-0 flex items-center pl-4">
                <button
                  type="button"
                  className="p-1 focus:outline-none focus:shadow-outline"
                >
                  <svg
                    width="24"
                    height="25"
                    viewBox="0 0 24 25"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <g clip-path="url(#clip0_125_930)">
                      <path
                        d="M20 3.5H19V1.5H17V3.5H7V1.5H5V3.5H4C2.9 3.5 2 4.4 2 5.5V21.5C2 22.6 2.9 23.5 4 23.5H20C21.1 23.5 22 22.6 22 21.5V5.5C22 4.4 21.1 3.5 20 3.5ZM20 21.5H4V10.5H20V21.5ZM20 8.5H4V5.5H20V8.5Z"
                        fill="black"
                      />
                    </g>
                    <defs>
                      <clipPath id="clip0_125_930">
                        <rect
                          width="24"
                          height="24"
                          fill="white"
                          transform="translate(0 0.5)"
                        />
                      </clipPath>
                    </defs>
                  </svg>
                </button>
              </span>
              <input
                type="text"
                className="py-4 text-md font-raleway bg-white placeholder:text-gray-700 rounded-md pl-14 focus:outline-none w-full"
                placeholder="Year Level"
                onChange={(e) => setYearLevel(e.target.value)}
                autoComplete="off"
              />
            </div>
          </div>

          <div className="flex flex-wrap lg:flex-nowrap justify-center gap-5">
            <div className="relative w-full">
              <span className="absolute inset-y-0 left-0 flex items-center pl-4">
                <button
                  type="button"
                  className="p-1 focus:outline-none focus:shadow-outline"
                >
                  <svg
                    width="24"
                    height="25"
                    viewBox="0 0 24 25"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <g clip-path="url(#clip0_125_933)">
                      <path
                        d="M17 1.5H7C5.9 1.5 5 2.4 5 3.5V21.5C5 22.6 5.9 23.5 7 23.5H17C18.1 23.5 19 22.6 19 21.5V3.5C19 2.4 18.1 1.5 17 1.5ZM17 19.5H7V5.5H17V19.5ZM8 6.5H16V8.5H8V6.5Z"
                        fill="black"
                      />
                    </g>
                    <defs>
                      <clipPath id="clip0_125_933">
                        <rect
                          width="24"
                          height="24"
                          fill="white"
                          transform="translate(0 0.5)"
                        />
                      </clipPath>
                    </defs>
                  </svg>
                </button>
              </span>
              <input
                type="text"
                className="py-4 text-md font-raleway bg-white placeholder:text-gray-700 rounded-md pl-14 focus:outline-none w-full"
                placeholder="Course / Unit"
                onChange={(e) => setCourse(parseInt(e.target.value))}
                autoComplete="off"
              />
            </div>
          </div>

          <div className="flex flex-wrap lg:flex-nowrap justify-center gap-5">
            <div className="relative w-full">
              <span className="absolute inset-y-0 left-0 flex items-center pl-4">
                <button
                  type="submit"
                  className="p-1 focus:outline-none focus:shadow-outline"
                >
                  <svg
                    width="24"
                    height="25"
                    viewBox="0 0 24 25"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <g clip-path="url(#clip0_125_939)">
                      <path
                        d="M21 5.5C19.89 5.15 18.67 5 17.5 5C15.55 5 13.45 5.4 12 6.5C10.55 5.4 8.45 5 6.5 5C4.55 5 2.45 5.4 1 6.5V21.15C1 21.4 1.25 21.65 1.5 21.65C1.6 21.65 1.65 21.6 1.75 21.6C3.1 20.95 5.05 20.5 6.5 20.5C8.45 20.5 10.55 20.9 12 22C13.35 21.15 15.8 20.5 17.5 20.5C19.15 20.5 20.85 20.8 22.25 21.55C22.35 21.6 22.4 21.6 22.5 21.6C22.75 21.6 23 21.35 23 21.1V6.5C22.4 6.05 21.75 5.75 21 5.5ZM21 19C19.9 18.65 18.7 18.5 17.5 18.5C15.8 18.5 13.35 19.15 12 20V8.5C13.35 7.65 15.8 7 17.5 7C18.7 7 19.9 7.15 21 7.5V19Z"
                        fill="black"
                      />
                      <path
                        d="M17.5 11C18.38 11 19.23 11.09 20 11.26V9.74C19.21 9.59 18.36 9.5 17.5 9.5C15.8 9.5 14.26 9.79 13 10.33V11.99C14.13 11.35 15.7 11 17.5 11Z"
                        fill="#323232"
                      />
                      <path
                        d="M13 12.99V14.65C14.13 14.01 15.7 13.66 17.5 13.66C18.38 13.66 19.23 13.75 20 13.92V12.4C19.21 12.25 18.36 12.16 17.5 12.16C15.8 12.16 14.26 12.46 13 12.99Z"
                        fill="#323232"
                      />
                      <path
                        d="M17.5 14.83C15.8 14.83 14.26 15.12 13 15.66V17.32C14.13 16.68 15.7 16.33 17.5 16.33C18.38 16.33 19.23 16.42 20 16.59V15.07C19.21 14.91 18.36 14.83 17.5 14.83Z"
                        fill="#323232"
                      />
                    </g>
                    <defs>
                      <clipPath id="clip0_125_939">
                        <rect
                          width="24"
                          height="24"
                          fill="white"
                          transform="translate(0 0.5)"
                        />
                      </clipPath>
                    </defs>
                  </svg>
                </button>
              </span>
              <input
                type="text"
                className="py-4 text-md font-raleway bg-white placeholder:text-gray-700 rounded-md pl-14 focus:outline-none w-full"
                placeholder="Learning Outcomes"
                onChange={(e) => setLearningOutcomes([`${e.target.value}`])}
                autoComplete="off"
              />
            </div>
          </div>

          <textarea
            placeholder="Describe Assessment"
            className="py-4 text-md font-raleway bg-white placeholder:text-gray-700 rounded-md pl-5 focus:outline-none w-full"
            rows={10}
            onChange={(e) => setDescribeAssessment(e.target.value)}
          ></textarea>
          <button
            type="button"
            onClick={handler}
            className="bg-[#CBFFFE] p-4 rounded-md text-center font-bold"
          >
            Submit
          </button>
        </form>
      </div>

      <div className="fixed bottom-0 right-10 -z-10">
        <svg
          width="485"
          height="418"
          viewBox="0 0 485 418"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            opacity="0.1"
            d="M257.404 490C243.093 490 227.403 486.855 215.499 483.114C195.02 476.684 174.16 465.496 149.86 447.911C133.376 435.986 115.313 428.557 96.168 425.844C80.8434 423.668 64.7929 424.492 48.4597 428.281C20.6076 434.745 1.34107 447.79 1.15103 447.92C0.819692 448.143 0.356783 448.066 0.132641 447.731C-0.101247 447.402 -0.0184049 446.946 0.322682 446.714C0.512715 446.583 19.9644 433.408 48.0748 426.871C64.598 423.028 80.8386 422.195 96.3483 424.39C115.746 427.138 134.043 434.653 150.732 446.728C174.9 464.216 195.624 475.337 215.948 481.724C234.362 487.509 261.907 491.88 278.917 485.154C284.677 482.877 288.804 478.477 289.184 474.208C289.481 470.855 287.513 467.773 283.483 465.292C276.067 460.727 265.795 462.152 255.855 463.528C249.486 464.41 243.473 465.244 238.196 464.585C230.795 463.664 223.379 460.771 217.838 456.652C211.445 451.904 207.752 445.842 207.158 439.121C206.812 435.225 207.796 430.185 211.553 427.545C210.052 424.783 208.722 421.972 207.484 419.258C203.985 411.593 201.135 401.456 206.271 395.045C201.91 389.894 198.825 383.856 197.022 376.956C194.606 367.691 193.412 358.48 192.252 349.573C190.269 334.295 188.398 319.865 180.884 305.066C173.819 291.145 164.171 278.434 154.845 266.146C146.922 255.708 138.731 244.917 132.109 233.384C120.332 212.887 113.383 189.163 112.004 164.785C110.63 140.401 114.864 116.057 124.259 94.3726C130.379 80.2524 138.507 67.2273 148.427 55.6607C157.9 44.6175 168.98 34.9117 181.362 26.8243C205.316 11.1777 233.348 2.00009 262.428 0.289573C290.275 -1.3531 317.65 4.01588 341.594 15.815C354.132 21.9981 365.651 29.9062 375.83 39.3212C386.511 49.1967 395.754 60.7777 403.307 73.7398C412.73 89.9098 418.831 107.538 421.428 126.116C423.83 143.275 423.275 161.412 419.786 180.019C413.549 213.314 398.02 247.883 374.879 279.995C374.865 280.014 374.845 280.038 374.826 280.058C374.738 280.145 366.304 289.507 357.547 303.777C352.407 312.15 348.168 320.548 344.942 328.747C340.922 338.971 338.471 348.9 337.672 358.257C336.819 368.244 334.802 374.029 331.133 377.014C329.939 377.988 328.623 378.623 327.196 379.03C341.453 382.921 357.06 383.706 369.861 381.065C387.928 377.339 400.977 374.087 411.463 371.48C431.076 366.601 441.883 363.912 460.02 364.449C471.821 364.798 483.301 366.46 494.138 369.382C502.811 371.723 511.1 374.872 518.769 378.749C531.847 385.358 538.499 391.682 538.776 391.953C539.069 392.234 539.074 392.695 538.796 392.99C538.513 393.281 538.05 393.286 537.753 393.01C537.69 392.947 530.946 386.536 518.043 380.028C510.471 376.205 502.28 373.099 493.709 370.788C482.994 367.904 471.646 366.262 459.981 365.913C442.049 365.385 431.315 368.055 411.824 372.905C401.328 375.517 388.265 378.768 370.168 382.504C356.29 385.368 339.182 384.283 323.965 379.621C322.186 379.796 320.276 379.796 318.259 379.796C292.278 379.796 264.367 379.476 236.335 377.174C234.537 377.024 232.296 376.845 230.512 375.628C227.106 373.302 226.941 368.631 227.408 365.113C228.665 355.577 233.075 346.84 237.339 338.394C240.043 333.045 242.835 327.516 244.799 321.837C249.438 308.429 249.637 294.018 249.837 280.082C250.061 263.849 250.3 247.069 245.788 231.175C245.705 230.879 245.617 230.579 245.53 230.288C222.711 229.522 205.345 225.476 191.126 217.655C188.286 216.095 185.391 214.264 183.452 211.472C181.649 208.885 180.679 204.844 182.57 201.66C185.065 197.449 190.854 196.989 194.981 197.008C203.625 197.057 210.861 197.885 217.107 199.547C224.957 201.645 231.345 205.149 236.096 209.965C240.657 214.588 244.112 220.786 246.631 228.859C247.635 228.888 248.639 228.912 249.662 228.926C260.479 229.106 271.296 228.65 282.05 227.574C283.697 223.688 285.768 219.981 288.419 216.633C293.711 209.932 301.288 204.819 310.336 201.834C318.756 199.058 328.058 198.215 337.224 199.383C339.908 199.727 342.515 200.623 344.386 201.844C346.832 203.434 348.002 205.522 347.787 207.882C347.563 210.314 345.814 212.485 342.437 214.501C336.015 218.348 328.628 220.485 321.602 222.22C308.928 225.355 296.049 227.599 283.078 228.936C280.053 236.379 278.547 244.471 277.49 251.904C275.17 268.254 274.293 284.937 274.888 301.5C275.453 317.258 276.037 333.558 283.668 347.809C287.401 354.787 292.848 360.956 299.855 366.15C306.258 370.894 313.81 374.732 322.308 377.557C322.908 377.756 323.517 377.949 324.131 378.143C326.479 377.886 328.501 377.286 330.217 375.89C333.506 373.215 335.411 367.575 336.215 358.14C337.029 348.638 339.514 338.564 343.592 328.204C346.852 319.928 351.13 311.448 356.319 302.997C364.891 289.037 373.164 279.728 373.715 279.118C396.714 247.185 412.155 212.829 418.348 179.763C421.808 161.305 422.359 143.328 419.976 126.33C417.403 107.936 411.371 90.4912 402.04 74.4812C394.56 61.6451 385.409 50.1803 374.836 40.4018C364.764 31.0836 353.357 23.2531 340.941 17.133C317.236 5.44534 290.115 0.124823 262.516 1.75296C233.699 3.45378 205.915 12.5442 182.171 28.0551C169.906 36.065 158.928 45.6739 149.548 56.6153C139.72 68.0704 131.67 80.9744 125.609 94.9589C116.307 116.43 112.111 140.552 113.476 164.702C114.84 188.858 121.725 212.359 133.385 232.662C139.963 244.118 148.125 254.87 156.019 265.269C165.389 277.611 175.076 290.374 182.2 304.412C189.821 319.429 191.799 334.658 193.709 349.389C194.859 358.252 196.053 367.415 198.445 376.593C200.16 383.173 203.123 389.007 207.265 393.955C207.411 393.809 207.557 393.669 207.718 393.533C211.655 390.059 217.751 388.561 223.252 389.719C241.252 393.509 253.224 395.825 267.627 396.091C282.313 396.372 299.456 394.492 326.796 389.618C329.223 389.191 331.922 389.618 334.207 390.795C334.207 390.795 334.217 390.795 334.222 390.795C335.888 391.663 336.999 392.956 337.521 394.638C338.549 397.952 336.956 401.49 336.22 402.851C326.187 421.502 291.742 419.118 271.16 417.688C268.909 417.533 266.779 417.383 264.923 417.286C237.904 415.808 218.613 408.724 207.255 396.164C202.816 402.027 205.545 411.462 208.819 418.648C210.066 421.371 211.363 424.124 212.795 426.784C215.3 425.485 218.36 425.015 221.376 425.49C269.947 433.195 298.895 429.72 316.188 427.646C328.224 426.202 334.266 425.48 336.376 430.384C337.604 433.228 337.35 435.855 335.63 438.19C333.116 441.602 327.337 444.388 318.454 446.476C311.281 448.163 302.092 449.413 291.128 450.183C272.281 451.516 253.155 451.036 249.067 450.629C240.886 449.815 232.354 448.434 225.357 443.85C219.69 440.148 215.563 434.653 212.264 428.824C209.126 431.13 208.312 435.54 208.619 438.975C209.818 452.538 224.494 461.391 238.372 463.121C243.454 463.751 249.379 462.932 255.65 462.065C265.844 460.655 276.383 459.191 284.253 464.037C287.415 465.985 291.084 469.343 290.646 474.32C290.212 479.199 285.822 483.987 279.458 486.497C273.177 488.982 265.513 489.99 257.404 489.99M213.502 428.063C216.732 433.8 220.669 439.034 226.166 442.629C232.9 447.029 241.222 448.376 249.223 449.171C253.272 449.578 272.276 450.048 291.031 448.725C315.189 447.019 330.207 443.075 334.451 437.323C335.864 435.404 336.049 433.33 335.031 430.956C334.227 429.1 332.677 428.262 329.666 428.068C326.596 427.874 322.303 428.388 316.368 429.1C298.997 431.184 269.927 434.672 221.147 426.934C218.457 426.508 215.729 426.915 213.507 428.068L213.502 428.063ZM208.225 395.05C212.391 399.692 217.746 403.626 224.153 406.732C234.708 411.854 248.453 414.912 265.001 415.818C266.867 415.92 269.006 416.07 271.262 416.225C281.251 416.918 294.934 417.868 307.203 416.37C313.854 415.556 319.472 414.083 323.902 411.995C328.998 409.591 332.702 406.282 334.919 402.163C336.268 399.653 336.712 397.002 336.113 395.069C335.713 393.77 334.841 392.772 333.535 392.094C331.522 391.057 329.164 390.679 327.054 391.057C299.611 395.946 282.387 397.831 267.598 397.555C253.063 397.279 241.032 394.953 222.94 391.144C217.887 390.083 212.293 391.444 208.688 394.623C208.532 394.769 208.371 394.914 208.225 395.059V395.05ZM247.074 230.317C247.118 230.467 247.162 230.608 247.196 230.758C251.762 246.86 251.523 263.747 251.299 280.087C251.104 294.139 250.899 308.666 246.183 322.297C244.185 328.063 241.373 333.641 238.65 339.034C234.435 347.373 230.083 355.994 228.855 365.288C228.519 367.832 228.393 372.401 231.336 374.402C232.797 375.401 234.82 375.57 236.447 375.701C264.431 377.998 292.302 378.318 318.254 378.318C318.863 378.318 319.463 378.318 320.042 378.318C312.124 375.512 305.04 371.815 298.968 367.318C291.786 361.997 286.202 355.664 282.362 348.493C274.576 333.946 273.986 317.476 273.416 301.548C272.817 284.903 273.699 268.133 276.028 251.696C277.066 244.403 278.532 236.476 281.422 229.101C270.872 230.133 260.255 230.559 249.637 230.385C248.775 230.37 247.922 230.351 247.079 230.332L247.074 230.317ZM194.766 198.447C187.058 198.447 184.836 200.686 183.832 202.377C182.273 205.008 183.126 208.41 184.656 210.62C186.424 213.164 189.153 214.879 191.838 216.352C205.735 224.003 222.74 227.986 245.072 228.786C242.64 221.173 239.346 215.33 235.044 210.964C230.478 206.336 224.314 202.963 216.718 200.938C210.598 199.305 203.484 198.491 194.971 198.447C194.903 198.447 194.835 198.447 194.766 198.447ZM329.164 200.313C322.839 200.313 316.602 201.287 310.789 203.201C302.023 206.094 294.685 211.041 289.569 217.515C287.181 220.539 285.271 223.877 283.722 227.381C296.352 226.038 308.894 223.834 321.236 220.781C328.155 219.07 335.416 216.972 341.667 213.231C344.615 211.468 346.136 209.67 346.316 207.727C346.725 203.254 340.42 201.253 337.034 200.817C334.417 200.483 331.786 200.313 329.169 200.313H329.164Z"
            fill="black"
          />
        </svg>
      </div>
    </main>
  );
}
